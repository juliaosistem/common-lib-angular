<div class="cart-container">
  <h3>Carrito de Compras</h3>

  <p-table [value]="cartItems" *ngIf="cartItems.length > 0">
    <ng-template pTemplate="header">
      <tr>
        <th>Producto</th>
        <th>Cantidad</th>
        <th>Precio Unitario</th>
        <th>Subtotal</th>
        <th>Acci√≥n</th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-item let-i="rowIndex">
      <tr>
        <td>{{ item.product.name }}</td>
        <td>{{ item.quantity }}</td>
        <td>{{ item.product.precios[0].precio | currency:item.product.precios[0].codigo_iso }}</td>
        <td>{{ (item.product.precios[0].precio * item.quantity) | currency:item.product.precios[0].codigo_iso }}</td>
        <td>
          <button pButton type="button" icon="pi pi-times" class="p-button-danger" (click)="removeItem(i)"></button>
        </td>
      </tr>
    </ng-template>
  </p-table>

  <div *ngIf="cartItems.length === 0">
    <p>No hay productos en el carrito</p>
  </div>

  <div class="cart-total" *ngIf="cartItems.length > 0">
    <strong>Total:</strong> {{ total | currency:cartItems[0]?.product?.precios[0].codigo_iso }}
  </div>
</div>

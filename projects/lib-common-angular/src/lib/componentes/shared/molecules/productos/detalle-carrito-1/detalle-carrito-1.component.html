<div id="product-container" class="container mx-auto max-w-7xl bg-white shadow-xl rounded-2xl p-6 md:p-12 lg:p-16">
        <!-- Contenedor principal de la página de detalle -->
        <div class="grid grid-cols-1 md:grid-cols-2 gap-8 lg:gap-12">
            <!-- Columna de imágenes -->
            <div class="space-y-6">
                <!-- Imagen principal -->
                <div class="bg-gray-100 rounded-lg p-4 flex justify-center items-center">
                    <p-image 
                        [src]="selectedImageUrl" 
                        [alt]="product.name"
                        class="main-image rounded-lg"
                        [preview]="true">
                    </p-image>
                </div>
                
                <!-- Miniaturas de la galería -->
                <div class="grid grid-cols-4 gap-4">
                    @for (imagen of product.imagen; track $index) {
                        <div class="thumbnail-container p-1 rounded-lg cursor-pointer"
                             (click)="updateMainImage(imagen.url)">
                            <div 
                                class="thumbnail"
                                [class.thumbnail-active]="isActiveThumbnail(imagen.url)">
                                <img [src]="imagen.url" alt="Miniatura {{ imagen.alt }}" class="w-full h-full object-cover rounded">
                            </div>
                        </div>
                    }
                </div>
            </div>

            <!-- Columna de información del producto -->
            <div class="flex flex-col justify-between">
                <div>
                    <div class="flex justify-between items-center mb-2">
                        <h1 class="text-3xl font-bold text-gray-900">{{ product.name }}</h1>
                        <p-button 
                            [text]="true" 
                            [rounded]="true"
                            (onClick)="toggleFavorite()"
                            [icon]="isFavorite ? 'pi pi-heart-fill' : 'pi pi-heart'"
                            [class]="isFavorite ? 'text-red-500' : 'text-gray-400'"
                            class="hover:text-red-500 transition-colors">
                        </p-button>
                    </div>

                        <!-- esta es la parte de reseñas -->
                    <!-- <div class="flex items-center space-x-2 mb-6">
                        <p-rating 
                            [ngModel]="product.rating" 
                            [readonly]="true"
                            class="text-yellow-500">
                        </p-rating>
                        <span class="text-gray-500 text-sm">({{ product.reviews }}) reseñas</span>
                    </div> -->

                    <p class="text-gray-600 leading-relaxed mb-8">{{ product.descripcion }}</p>

                    <div class="flex items-center space-x-4 mb-8">
                        @if(product.descuento != undefined && product.descuento > 0) {
                        <span class="old-price">{{ product.precio[0].precio | currency:product.precio[0].codigo_iso :'code' }}</span>
                        <span class="discount-label">{{ product.descuento}}% OFF</span>
                        }
                        <span class="current-price">{{ discount | currency:product.precio[0].codigo_iso :'code'}}</span>
                    </div>
                </div>

                <div>
                    <!-- <div class="flex items-center mb-8">
                        <label class="text-gray-700 font-medium mr-4">Cantidad:</label>
                        <div class="flex items-center space-x-2">
                            <p-button 
                                icon="pi pi-minus" 
                                [text]="true" 
                                [rounded]="true"
                                (onClick)="decrementQuantity()"
                                class="quantity-btn">
                            </p-button>
                            <span class="w-16 text-center font-bold text-lg text-gray-800">{{ currentQuantity }}</span>
                            <p-button 
                                icon="pi pi-plus" 
                                [text]="true" 
                                [rounded]="true"
                                (onClick)="incrementQuantity()"
                                class="quantity-btn">
                            </p-button>
                        </div>
                    </div> -->

                    <lib-button-add-to-card1 ></lib-button-add-to-card1>

                    @if (showCartMessage) {
                        <div class="mt-4 text-center text-sm font-semibold text-green-600">
                            Producto añadido al carrito.
                        </div>
                    }
                </div>
            </div>
        </div>
    </div>
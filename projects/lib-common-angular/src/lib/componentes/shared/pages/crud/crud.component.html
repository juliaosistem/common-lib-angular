<!-- En crud.component.html -->
<div class="card">
    <!-- Toolbar para cambiar vista -->
    <lib-tool-bar1 
        (viewChange)="onViewChange($event)"
        [currentView]="tableType"
        (newItem)="openNew()">
    </lib-tool-bar1>

    <!-- Vista de tabla con sistema dinámico -->
    <lib-tabla1 
        *ngIf="tableType === 'table'"
        [data]="data"
        [(selectedItems)]="selectedItems"
        [fieldTypeConfig]="fieldTypeConfig"
        [fieldLabels]="fieldLabels"
        [fieldOrder]="fieldOrder"
        [excludeFields]="excludeFields"
        [fieldSelectOptions]="fieldSelectOptions"
        [displayFields]="displayFields"
        [rows]="rows"
        [paginator]="paginator"
        [rowsPerPageOptions]="rowsPerPageOptions"
        [showCurrentPageReport]="showCurrentPageReport"
        (editItem)="editItem($event)"
        (deleteItem)="deleteItem($event)">
    </lib-tabla1>

    <!-- Vista de grid -->
    <lib-grid1 
        *ngIf="tableType === 'grid'"
        [data]="data"
        [(selectedItems)]="selectedItems"
        [fieldTypeConfig]="fieldTypeConfig"
        [fieldLabels]="fieldLabels"
        [fieldOrder]="fieldOrder"
        [excludeFields]="excludeFields"
        [fieldSelectOptions]="fieldSelectOptions"
        [displayFields]="displayFields"
        [rows]="rows"
        [paginator]="paginator"
        [rowsPerPageOptions]="rowsPerPageOptions"
        [showCurrentPageReport]="showCurrentPageReport"
        (editItem)="editItem($event)"
        (deleteItem)="deleteItem($event)">
    </lib-grid1>

    <!-- Diálogo CRUD -->
    <lib-crud-dialog1
        [(visible)]="itemDialog"
        [displayFields]="displayFields"
        [currentItem]="currentItem"
        [fieldSelectOptions]="fieldSelectOptions"
        (save)="onItemSaved($event)"
        (cancel)="onDialogCanceled()">
    </lib-crud-dialog1>
</div>
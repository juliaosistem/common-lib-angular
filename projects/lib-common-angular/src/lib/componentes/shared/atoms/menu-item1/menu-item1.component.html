@if (!item.separator) {
  <li 
    [class]="getItemClasses()"
    [style]="item.style"
    (click)="onItemClick($event)"
    (mouseenter)="onItemHover($event)"
    (mouseleave)="onItemLeave($event)"
  >
    <!-- Enlace interno -->
    @if (item.routerLink && !item.disabled) {
      <a 
        [routerLink]="item.routerLink"
        [class]="getLinkClasses()"
        [attr.aria-label]="item.label"
        class="menu-link"
      >
        @if (showIcons && item.icon) {
          <i [class]="item.icon"></i>
        }
        <span class="menu-label">{{ item.label }}</span>
        @if (showBadges && item.badge) {
          <span [class]="getBadgeClasses()">
            {{ item.badge }}
          </span>
        }
        @if (hasSubItems) {
          <i class="pi pi-angle-right submenu-icon"></i>
        }
      </a>
    }

    <!-- Enlace externo -->
    @if (item.url && !item.disabled) {
      <a 
        [href]="item.url"
        [target]="item.target || '_self'"
        [class]="getLinkClasses()"
        [attr.aria-label]="item.label"
        class="menu-link"
      >
        @if (showIcons && item.icon) {
          <i [class]="item.icon"></i>
        }
        <span class="menu-label">{{ item.label }}</span>
        @if (showBadges && item.badge) {
          <span [class]="getBadgeClasses()">
            {{ item.badge }}
          </span>
        }
        @if (hasSubItems) {
          <i class="pi pi-angle-right submenu-icon"></i>
        }
      </a>
    }

    <!-- Elemento sin enlace -->
    @if (!item.routerLink && !item.url) {
      <span 
        [class]="getLinkClasses()"
        [attr.aria-label]="item.label"
        class="menu-link"
      >
        @if (showIcons && item.icon) {
          <i [class]="item.icon"></i>
        }
        <span class="menu-label">{{ item.label }}</span>
        @if (showBadges && item.badge) {
          <span [class]="getBadgeClasses()">
            {{ item.badge }}
          </span>
        }
        @if (hasSubItems) {
          <i class="pi pi-angle-right submenu-icon"></i>
        }
      </span>
    }

    <!-- SubmenÃºs -->
    @if (hasSubItems && isItemExpanded) {
      <ul class="submenu">
        @for (subItem of item.items; track $index) {
          <app-menu-item1
            [item]="subItem"
            [showIcons]="showIcons"
            [showBadges]="showBadges"
            [collapsed]="collapsed"
            [isItemExpanded]="isSubItemExpanded(subItem.id)"
            [expandedItems]="expandedItems"
            [depth]="depth + 1"
            [maxDepth]="maxDepth"
            [activeItemId]="activeItemId"
            (menuEvent)="onSubMenuEvent($event)"
          ></app-menu-item1>
        }
      </ul>
    }
  </li>
}

<!-- Separador -->
@if (item.separator) {
  <li class="menu-separator"></li>
}